<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<title>Test</title>
	<link rel="stylesheet" href="./styles-$cachebuster$.css" />
	<script src="./mithril.min.js"></script>
	<script src="./ospec.js"></script>
	<script>
const CSData = $CSData$

const state = {
	tables: [
		{
			rows: [
				{
					cells: [
						{
							data: 'a'
						},
						{
							data: 'b'
						},
						{
							data: 'c'
						}
					]
				}
			]
		}
	]
}

const Spreadsheet = {
	view: function(){
		return state.tables.map(Table.m)
	}
}

const Table = {
	m: function(table){
		return m(Table, table)
	},
	view: function(vnode){
		return m('table', vnode.attrs.rows.map(Row.m))
	}
}

const Row = {
	m: function(row){
		return m(Row, row)
	},
	view: function(vnode){
		return m('tr', vnode.attrs.cells.map(Cell.m))
	}
}

const Cell = {
	m: function(cell){
		return m(Cell, cell)
	},
	view: function(vnode){
		return m('td', vnode.attrs.data)
	}
}

// const Spreadsheet = {
// 	view: function(){
// 		return state.tables.map(table=>{
// 			return m('table', table.rows.map(row=>{
// 				return m('tr', row.cells.map(cell=>{
// 					return m('td', cell.data)
// 				}))
// 			}))
// 		})
// 	}
// }

window.addEventListener('DOMContentLoaded', () => {
	m.mount(document.getElementById('app-output'), Spreadsheet)
})

	</script>
</head>
<body>
	<div id="app-output"></div>
</body>
</html>
